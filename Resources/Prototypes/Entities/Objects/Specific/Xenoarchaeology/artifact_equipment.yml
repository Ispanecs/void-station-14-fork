- type: entity
  id: CrateArtifactContainer
  parent: BaseStructureDynamic
  name: artifact container
  description: Used to safely contain and move artifacts.
  components:
    - type: Transform
      noRot: true
    - type: AccessReader
      access: [["Research"], ["Salvage"]]
    - type: Lock
    - type: ResistLocker
    - type: Sprite
      drawdepth: Objects
      sprite: Structures/Storage/Crates/artifact.rsi
      layers:
      - state: artifact_container
        map: ["enum.StorageVisualLayers.Base"]
      - state: artifact_container_door
        map: ["enum.StorageVisualLayers.Door"]
      - state: welded
        visible: false
        map: ["enum.WeldableLayers.BaseWelded"]
      - state: locked
        map: ["enum.LockVisualLayers.Lock"]
        shader: unshaded
    - type: InteractionOutline
    - type: Physics
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.45
          density: 50
          mask:
          - SmallMobMask #this is so they can go under plastic flaps
          layer:
          - MachineLayer
    - type: Icon
      sprite: Structures/Storage/Crates/artifact.rsi
      state: artifact_container_icon
    - type: EntityStorage
      capacity: 1
      whitelist:
        components:
        - Artifact
    - type: Weldable
    - type: SuppressArtifactContainer
    - type: RadiationBlockingContainer
      resistance: 5
    - type: PlaceableSurface
      isPlaceable: false
    - type: Damageable
      damageContainer: Inorganic
      damageModifierSet: Metallic
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 50
          behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
    - type: PaperLabel
      labelSlot:
        insertVerbText: Attach Label
        ejectVerbText: Remove Label
        whitelist:
          components:
            - Paper
    - type: Appearance
    - type: EntityStorageVisuals
      stateDoorOpen: artifact_container_open
      stateDoorClosed: artifact_container_door
    - type: LockVisuals
    - type: ItemSlots
    - type: ContainerContainer
      containers:
        entity_storage: !type:Container
        paper_label: !type:ContainerSlot
    - type: StaticPrice
      price: 250

- type: entity
  id: ArtifactLocatorUnpowered
  parent: BaseItem
  name: локатор артефактов
  description: Девайс созданый что бы искать артефакты нарушевшие условия содержания.
  suffix: Unpowered
  components:
  - type: Sprite
    sprite: Objects/Specific/Research/anomalylocator.rsi
    layers:
      - state: icon
      - state: screen
        shader: unshaded
        visible: false
        map: ["enum.PowerDeviceVisualLayers.Powered"]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.ProximityBeeperVisuals.Enabled:
        enum.PowerDeviceVisualLayers.Powered:
          True: { visible: true }
          False: { visible: false }
  - type: ProximityBeeper
  - type: ProximityDetector
    enabled: false
    range: 20
    criteria:
      components:
      - Artifact
  - type: Beeper
    enabled: false
    minBeepInterval: 0.1
    maxBeepInterval: 1.25
    beepSound:
      path: "/Audio/Items/locator_beep.ogg"
      params:
        maxDistance: 1
        volume: -8

- type: entity
  id: ArtifactLocatorEmpty
  parent: ArtifactLocator
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default

- type: entity
  id: ArtifactLocator
  parent: [ ArtifactLocatorUnpowered, PowerCellSlotSmallItem ]
  suffix: Powered
  components:
  - type: PowerCellDraw
    drawRate: 1
    useRate: 0
